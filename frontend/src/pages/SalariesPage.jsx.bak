import { Link } from 'react-router-dom'
import { useState } from 'react'
import { Link } from 'react-router-dom'
import { DollarSign, TrendingUp, Briefcase, MapPin, Users } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { Card, CardContent } from '@/components/ui/card'

const salaryRanges = [
  {
    range: 'Até R$ 3.000',
    min: 0,
    max: 3000,
    jobs: 450,
    positions: ['Estagiário', 'Trainee', 'Assistente'],
    avgSalary: 2200,
    trend: 'stable'
  },
  {
    range: 'R$ 3.000 - R$ 5.000',
    min: 3000,
    max: 5000,
    jobs: 1200,
    positions: ['Analista Júnior', 'Desenvolvedor Júnior', 'Suporte L1'],
    avgSalary: 4000,
    trend: 'up'
  },
  {
    range: 'R$ 5.000 - R$ 8.000',
    min: 5000,
    max: 8000,
    jobs: 2800,
    positions: ['Analista Pleno', 'Desenvolvedor Pleno', 'Consultor Jr'],
    avgSalary: 6500,
    trend: 'up'
  },
  {
    range: 'R$ 8.000 - R$ 12.000',
    min: 8000,
    max: 12000,
    jobs: 3200,
    positions: ['Analista Sênior', 'Desenvolvedor Sênior', 'Consultor Pl'],
    avgSalary: 10000,
    trend: 'up'
  },
  {
    range: 'R$ 12.000 - R$ 18.000',
    min: 12000,
    max: 18000,
    jobs: 1800,
    positions: ['Tech Lead', 'Arquiteto', 'Consultor Sr'],
    avgSalary: 15000,
    trend: 'up'
  },
  {
    range: 'R$ 18.000 - R$ 25.000',
    min: 18000,
    max: 25000,
    jobs: 900,
    positions: ['Gerente', 'Engineering Manager', 'Principal Engineer'],
    avgSalary: 21000,
    trend: 'stable'
  },
  {
    range: 'Acima de R$ 25.000',
    min: 25000,
    max: 999999,
    jobs: 450,
    positions: ['Diretor', 'VP', 'CTO', 'Head'],
    avgSalary: 35000,
    trend: 'up'
  }
]

const positionsBySalary = [
  {
    position: 'Desenvolvedor Full Stack Sênior',
    avgSalary: 12000,
    minSalary: 8000,
    maxSalary: 18000,
    jobs: 450,
    location: 'São Paulo, SP',
    experience: '5+ anos'
  },
  {
    position: 'Consultor SAP',
    avgSalary: 15000,
    minSalary: 10000,
    maxSalary: 22000,
    jobs: 280,
    location: 'São Paulo, SP',
    experience: '3+ anos'
  },
  {
    position: 'DevOps Engineer',
    avgSalary: 11000,
    minSalary: 7000,
    maxSalary: 16000,
    jobs: 320,
    location: 'Remoto',
    experience: '4+ anos'
  },
  {
    position: 'Data Scientist',
    avgSalary: 13000,
    minSalary: 9000,
    maxSalary: 20000,
    jobs: 210,
    location: 'São Paulo, SP',
    experience: '3+ anos'
  },
  {
    position: 'Arquiteto de Soluções',
    avgSalary: 18000,
    minSalary: 12000,
    maxSalary: 28000,
    jobs: 150,
    location: 'São Paulo, SP',
    experience: '7+ anos'
  },
  {
    position: 'Tech Lead',
    avgSalary: 16000,
    minSalary: 12000,
    maxSalary: 22000,
    jobs: 180,
    location: 'Híbrido',
    experience: '6+ anos'
  },
  {
    position: 'Desenvolvedor Mobile',
    avgSalary: 9000,
    minSalary: 6000,
    maxSalary: 14000,
    jobs: 380,
    location: 'Remoto',
    experience: '3+ anos'
  },
  {
    position: 'Analista de Segurança',
    avgSalary: 10000,
    minSalary: 7000,
    maxSalary: 15000,
    jobs: 220,
    location: 'São Paulo, SP',
    experience: '4+ anos'
  }
]

export default function SalariesPage() {
  const [selectedRange, setSelectedRange] = useState(null)
  const totalJobs = salaryRanges.reduce((sum, range) => sum + range.jobs, 0)

  const getTrendIcon = (trend) => {
    if (trend === 'up') return '↗️'
    if (trend === 'down') return '↘️'
    return '→'
  }

  const getTrendColor = (trend) => {
    if (trend === 'up') return 'text-green-600'
    if (trend === 'down') return 'text-red-600'
    return 'text-gray-600'
  }

  return (
    <div className="min-h-screen bg-gray-50">
      {/* Header */}
      <header className="bg-[#1F3B47] text-white shadow-md">
        <div className="container mx-auto px-6 py-4">
          <div className="flex items-center justify-between">
            <Link to="/" className="flex items-center gap-3">
              <div className="flex items-center gap-1">
                <div className="w-10 h-10 bg-[#F7941D] rounded-full flex items-center justify-center font-bold text-white">
                  P
                </div>
                <div className="text-xl font-bold">
                  Portal <span className="text-[#F7941D]">ERP</span> Jobs
                </div>
              </div>
            </Link>
            <nav className="hidden md:flex items-center gap-6">
              <Link to="/vagas" className="hover:text-[#F7941D] transition-colors font-medium">Vagas</Link>
              <Link to="/empresas" className="hover:text-[#F7941D] transition-colors font-medium">Empresas</Link>
              <Link to="/areas" className="hover:text-[#F7941D] transition-colors font-medium">Áreas</Link>
              <Link to="/tecnologias" className="hover:text-[#F7941D] transition-colors font-medium">Tecnologias</Link>
              <Link to="/salarios" className="text-[#F7941D] font-medium">Salários</Link>
            </nav>
            <div className="flex items-center gap-4">
              <Link to="/candidato/login">
                <Button variant="ghost" className="text-white hover:text-[#F7941D]">Login</Button>
              </Link>
              <Link to="/candidato/cadastro">
                <Button className="bg-[#F7941D] hover:bg-[#E67E22] text-white">Cadastrar CV</Button>
              </Link>
            </div>
          </div>
        </div>
      </header>

      {/* Hero Section */}
      <div className="bg-gradient-to-r from-[#1F3B47] to-[#2C5F7C] text-white py-16">
        <div className="container mx-auto px-6">
          <div className="max-w-3xl">
            <h1 className="text-4xl md:text-5xl font-bold mb-4">
              Faixas <span className="text-[#F7941D]">Salariais</span>
            </h1>
            <p className="text-xl text-white/90 mb-8">
              Descubra as faixas salariais do mercado de tecnologia e encontre vagas
            </p>
            <div className="flex gap-4 text-sm">
              <div className="flex items-center gap-2">
                <DollarSign className="w-5 h-5 text-[#F7941D]" />
                <span>Salários atualizados mensalmente</span>
              </div>
              <div className="flex items-center gap-2">
                <Briefcase className="w-5 h-5 text-[#F7941D]" />
                <span>{totalJobs.toLocaleString('pt-BR')} vagas disponíveis</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Salary Ranges */}
      <div className="container mx-auto px-6 py-12">
        <div className="mb-8">
          <h2 className="text-2xl font-bold text-[#1F3B47] mb-2">Faixas Salariais</h2>
          <p className="text-gray-600">Clique em uma faixa para ver mais detalhes</p>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-12">
          {salaryRanges.map((salary, index) => (
            <Card 
              key={index} 
              className={`hover:shadow-lg transition-all cursor-pointer ${selectedRange === index ? 'ring-2 ring-[#F7941D]' : ''}`}
              onClick={() => setSelectedRange(selectedRange === index ? null : index)}
            >
              <CardContent className="p-6">
                <div className="flex items-start justify-between mb-3">
                  <div className="flex items-center gap-2">
                    <div className="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                      <DollarSign className="w-5 h-5 text-green-600" />
                    </div>
                  </div>
                  <div className={`text-2xl ${getTrendColor(salary.trend)}`}>
                    {getTrendIcon(salary.trend)}
                  </div>
                </div>

                <h3 className="font-bold text-lg text-[#1F3B47] mb-2">{salary.range}</h3>
                
                <div className="mb-3">
                  <div className="text-sm text-gray-600 mb-1">Média:</div>
                  <div className="text-xl font-bold text-[#F7941D]">
                    R$ {salary.avgSalary.toLocaleString('pt-BR')}
                  </div>
                </div>

                <div className="mb-3">
                  <div className="text-xs text-gray-500 mb-2">Cargos típicos:</div>
                  <div className="flex flex-wrap gap-1">
                    {salary.positions.map((pos, idx) => (
                      <span key={idx} className="px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded-full">
                        {pos}
                      </span>
                    ))}
                  </div>
                </div>

                <div className="pt-3 border-t">
                  <div className="text-sm font-semibold text-gray-700">
                    {salary.jobs} vagas disponíveis
                  </div>
                </div>
              </CardContent>
            </Card>
          ))}
        </div>

        {/* Top Positions by Salary */}
        <div className="mb-8">
          <h2 className="text-2xl font-bold text-[#1F3B47] mb-2">Cargos Mais Bem Pagos</h2>
          <p className="text-gray-600">Média salarial por cargo</p>
        </div>

        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
          {positionsBySalary.map((position, index) => (
            <Card key={index} className="hover:shadow-lg transition-shadow">
              <CardContent className="p-6">
                <div className="flex items-start justify-between mb-4">
                  <div className="flex-1">
                    <h3 className="font-bold text-lg text-[#1F3B47] mb-2">{position.position}</h3>
                    <div className="flex flex-wrap gap-3 text-sm text-gray-600">
                      <div className="flex items-center gap-1">
                        <MapPin className="w-4 h-4" />
                        <span>{position.location}</span>
                      </div>
                      <div className="flex items-center gap-1">
                        <Users className="w-4 h-4" />
                        <span>{position.experience}</span>
                      </div>
                    </div>
                  </div>
                  <div className="text-right">
                    <div className="text-2xl font-bold text-[#F7941D]">
                      R$ {position.avgSalary.toLocaleString('pt-BR')}
                    </div>
                    <div className="text-xs text-gray-500">média</div>
                  </div>
                </div>

                <div className="mb-4">
                  <div className="flex justify-between text-sm text-gray-600 mb-2">
                    <span>Faixa salarial</span>
                    <span className="font-semibold">
                      R$ {position.minSalary.toLocaleString('pt-BR')} - R$ {position.maxSalary.toLocaleString('pt-BR')}
                    </span>
                  </div>
                  <div className="w-full bg-gray-200 rounded-full h-2">
                    <div 
                      className="bg-[#F7941D] h-2 rounded-full" 
                      style={{ width: `${((position.avgSalary - position.minSalary) / (position.maxSalary - position.minSalary)) * 100}%` }}
                    ></div>
                  </div>
                </div>

                <div className="flex items-center justify-between pt-4 border-t">
                  <div className="text-sm text-gray-600">
                    <Briefcase className="w-4 h-4 inline mr-1" />
                    {position.jobs} vagas
                  </div>
                  <Link to={`/vagas?salary=${salary.min}-${salary.max}&position=${encodeURIComponent(position.position)}`}>
                    <Button className="bg-[#F7941D] hover:bg-[#E67E22] text-white">
                      Ver Vagas
                    </Button>
                  </Link>
                </div>
              </CardContent>
            </Card>
          ))}
        </div>
      </div>

      {/* Footer */}
      <footer className="bg-[#1F3B47] text-white py-8 mt-12">
        <div className="container mx-auto px-6 text-center">
          <p className="text-white/80">© 2025 Portal ERP Jobs. Todos os direitos reservados.</p>
        </div>
      </footer>
    </div>
  )
}

